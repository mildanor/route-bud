{
  "_args": [
    [
      {
        "raw": "ssi-logger@^2.0.1",
        "scope": null,
        "escapedName": "ssi-logger",
        "name": "ssi-logger",
        "rawSpec": "^2.0.1",
        "spec": ">=2.0.1 <3.0.0",
        "type": "range"
      },
      "/Users/Milda/Projects/RouteBud/node_modules/require-https"
    ]
  ],
  "_from": "ssi-logger@>=2.0.1 <3.0.0",
  "_id": "ssi-logger@2.5.7",
  "_inCache": true,
  "_location": "/ssi-logger",
  "_nodeVersion": "4.4.7",
  "_npmOperationalInternal": {
    "host": "packages-16-east.internal.npmjs.com",
    "tmp": "tmp/ssi-logger-2.5.7.tgz_1474285544610_0.4532567700371146"
  },
  "_npmUser": {
    "name": "tcort",
    "email": "linuxgeek@gmail.com"
  },
  "_npmVersion": "2.15.8",
  "_phantomChildren": {},
  "_requested": {
    "raw": "ssi-logger@^2.0.1",
    "scope": null,
    "escapedName": "ssi-logger",
    "name": "ssi-logger",
    "rawSpec": "^2.0.1",
    "spec": ">=2.0.1 <3.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "/require-https"
  ],
  "_resolved": "https://registry.npmjs.org/ssi-logger/-/ssi-logger-2.5.7.tgz",
  "_shasum": "fa8ad2dd117d1ef13ba9beea2ba18ce574383d1b",
  "_shrinkwrap": null,
  "_spec": "ssi-logger@^2.0.1",
  "_where": "/Users/Milda/Projects/RouteBud/node_modules/require-https",
  "author": {
    "name": "SSi Micro Ltd",
    "email": "propellorheads@ssimicro.com"
  },
  "bugs": {
    "url": "https://github.com/ssimicro/ssi-logger/issues"
  },
  "dependencies": {
    "chalk": "^1.1.3",
    "lodash": "^4.15.0",
    "logformat": "^1.0.5",
    "modern-syslog": "^1.1.3",
    "moment": "^2.15.0"
  },
  "description": "Simplified logging for node.js modules",
  "devDependencies": {
    "expect.js": "^0.3.1",
    "jshint": "^2.9.3",
    "mocha": "^3.0.2"
  },
  "directories": {
    "test": "test"
  },
  "dist": {
    "shasum": "fa8ad2dd117d1ef13ba9beea2ba18ce574383d1b",
    "tarball": "https://registry.npmjs.org/ssi-logger/-/ssi-logger-2.5.7.tgz"
  },
  "gitHead": "c7de973c36942a7b0fcc3d3dbffcc20159742b68",
  "homepage": "https://github.com/ssimicro/ssi-logger",
  "jshintConfig": {
    "bitwise": true,
    "curly": true,
    "eqeqeq": true,
    "forin": true,
    "freeze": true,
    "globalstrict": true,
    "immed": true,
    "indent": 4,
    "moz": true,
    "newcap": true,
    "noarg": true,
    "node": true,
    "noempty": true,
    "nonew": true,
    "trailing": true,
    "undef": true,
    "smarttabs": true,
    "strict": true,
    "validthis": true,
    "globals": {
      "describe": false,
      "it": false,
      "before": false,
      "beforeEach": false,
      "after": false,
      "afterEach": false
    }
  },
  "keywords": [
    "logging",
    "logger",
    "log",
    "syslog"
  ],
  "license": "MIT",
  "main": "ssi-logger.js",
  "maintainers": [
    {
      "name": "jeremycx",
      "email": "jeremyc@ssimicro.com"
    },
    {
      "name": "tcort",
      "email": "linuxgeek@gmail.com"
    }
  ],
  "name": "ssi-logger",
  "optionalDependencies": {},
  "readme": "# ssi-logger\n\nSimplified logging for node.js modules.\n\n## Features\n\n* any code running in the `node` instance, including external modules, can append log messages.\n* the external modules don't need any configuration knowledge to send messages to the log.\n* there is no need to pass around a `syslog` object to every function that needs to log something.\n* log messages can be directed anywhere, not just to syslog and console.\n* log messages can go to 0, 1, or many destinations (/dev/null, syslog, file, rabbitmq, e-mail, XMPP, etc).\n* a log destination can be turned on or off at runtime.\n* logged objects are automatically formatted into key=value strings (great for sending messages to [splunk](http://www.splunk.com/)).\n* certain fields can be censored to avoid accidentally logging sensitive information.\n* formatted log messages are returned by SSi Logger to the caller.\n* it accepts multiple arguments and printf-style formats just like `console.log`.\n* defaults can be supplied that are included in every message.\n* your choice of API: `log(level, message, ...)` or `log.level(message, ...)`\n\n## Theory of Operation\n\nThe module provides a `log(level, message, ...)` function which accepts the log level (`INFO`, `NOTICE`, `DEBUG`, etc)\nand a log message. The message argument(s) work just like [console.log()](https://nodejs.org/api/console.html#console_console_log_data),\nsupporting a variable number of arguments plus formatting.\n\nWhen invoked, the logger will format the log message using [logformat](https://github.com/tcort/logformat)\n(for example, a JSON object like `[ { name: 'Tom' }, { name: 'Phil' } ]` becomes `0.name=Tom 1.name=Phil`).\nThe log level and message are emitted as a `log` event though the `process` event emitter. The main\napplication will provide an event listener to forward the log message to syslog or any other destination\n(RabbitMQ, log file, database, etc). Finally, the logging function returns the formatted log message\nwhich can be displayed/returned to the user if desired.\n\n## Installation\n\n    npm install --save ssi-logger\n\n## Examples\n\nBasic Usage:\n\n    var log = require('ssi-logger');\n\n    // install some transports\n    process.on('log', log.syslogTransport('LOG_LOCAL5', 'INFO'));\n    process.on('log', log.consoleTransport());\n\n    log('INFO', 'Hello, World!');\n    // emits ---> { level: 'INFO', message: 'Hello, World!' }\n\nMultiple message arguments:\n\n    log('INFO', 'Hello,', 'World!');\n    // emits ---> { level: 'INFO', message: 'Hello, World!' }\n\n[Formatting](http://nodejs.org/api/util.html#util_util_format_format):\n\n    log('INFO', 'CC Charge amount=%d username=%s', 12.85, 'thomasc');\n    // emits ---> { level: 'INFO', message: 'CC Charge amount=12.85 username=thomasc' }\n\nNon-string message arguments:\n\n    log('INFO', 'IP Whitelist Accept', { remote_ip: remote_ip });\n    // emits ---> { level: 'INFO', message: 'IP Whitelist Accept remote_ip=123.123.123.123' }\n\nWith censorship:\n\n    var log = require('ssi-logger');\n\n    log.censor([\n        'card_number', // can contain property names\n        /pass(word)?/  // and/or regular expressions\n    ]);\n\n    process.on('log', log.syslogTransport('LOG_LOCAL5', 'INFO'));\n    process.on('log', log.consoleTransport());\n\n    log('INFO', { first_name: 'John', last_name: 'Doe', card_number: '1234123412341234' });\n    // emits ---> { level: 'INFO', message: 'first_name=John last_name=Doe card_number=[redacted]' }\n\n\nReturn value:\n\n    if (err) {\n        var human_readble_error_string = log('ERROR', err);\n        displayError(human_readble_error_string);\n        callback(err);\n    }\n\nLogging to a file with daily log rotation:\n\n    var FileStreamRotator = require('file-stream-rotator');\n    var log = require('ssi-logger');\n    var path = require('path');\n\n    var logfile = FileStreamRotator.getStream({\n        filename: path.join(__dirname, 'application-%DATE%.log'),\n        frequency: 'daily',\n        verbose: false,\n        date_format: 'YYYY-MM-DD'\n    });\n    process.on('log', log.streamTransport(logfile));\n\n    log('INFO', 'This message gets logged to a file');\n\nSetting defaults that are included in every log message:\n\n    var app = express();\n\n    app.use(function loggingConfig(req, res, next) {\n        req.log = log.defaults({\n            request_id: uuid.v1(),\n            client_ip: req.ip\n        });\n    });\n\n    app.get('/users/:uid', function getRoot(req, res) {\n        req.log('INFO', 'User Get', req.params);\n        // emits ---> { level: 'INFO', message: 'User Get uid=thomasc request_id=e3aec5a8-12af-11e6-a148-3e1d05defe78 client_ip=127.0.0.1' }\n\n        res.render('user', db.getUser(req.params.uid));\n    });\n\n    app.listen(3000);\n\nConvience methods:\n\n    log.info('Hello, World!');\n    // emits ---> { level: 'INFO', message: 'Hello, World!' }\n\n    log.alert('/dev/lp0 on fire!');\n    // emits ---> { level: 'ALERT', message: '/dev/lp0 on fire!' }\n\nStandard Log Levels: `EMERG`, `ALERT`, `CRIT`, `ERR`, `WARNING`, `NOTICE`, `INFO`, `DEBUG`\n\n## Transports\n\nLog messages are emitted as `log` events. Event listeners should be installed to receive the events and send them over\nthe appropriate transport. SSi Logger provides a couple of common transports.\n\nHere's an example of the standard usage where logs go to syslog. Depending on the value of `mask`, log messages may or\nmay not go to syslog. Here, 'INFO' means that log messages with levels up to 'INFO' are logged (i.e. 'DEBUG' messages are\nnot logged). If `verbose` is `true`, logs also go to the console.\n\n    process.on('log', log.syslogTransport(facility, mask)); // facility='LOG_LOCAL5', mask='INFO'\n    if (verbose) {\n        process.on('log', log.consoleTransport());\n    }\n\nThis is a very powerful pattern. It allows for many different combinations of actions. For example, one could write\na transport such that a LOG_ALERT message about the database being down will trigger an e-mail to go out to the sysadmin.\n\n## Available Transports\n\nHere are the available transports.\n\n### lib/transports/console\n\n`consoleTransport(color, timestamp, stderr)` logs all messages to the console in the form \"[level] message\". The `color`\nparameter is a boolean to enable or disable color coded log messages. When not supplied, `color` defaults to\n`true`. Colors can also be disabled at runtime with the `--no-color` command line option. The `timestamp`\nparameter causes an ISO 8601 format timestamp to be prepended to all console messages. If the `stderr` parameter is\n`true`, then the logs messages are directed to process.stderr instead.\n\n    process.on('log', log.consoleTransport(true, true, true));\n\n### lib/transports/stream ###\n\n`streamTransport(stream, color, timestamp` writes messages to the `stream`, one per line, in the form\n\"[level] message\". The `color` parameter is a boolean to enable or disable color coded log messages.\nWhen not supplied, `color` defaults to `false`. Colors can also be disabled at runtime with the\n`--no-color` command line option.  The `timestamp` parameter causes an ISO 8601 format timestamp\nto be prepended to all console messages. When not supplied, `timestamp` defaults to `true`.\n\n    process.on('log', log.streamTransport(logfile));\n\n### lib/transports/syslog ###\n\n`syslogTransport(log_facility[, mask])` logs messages to the system log using the specified `log_facility` (e.g.\n`LOG_LOCAL5`, `LOG_SYSLOG`, `LOG_USER`). The `mask` parameter will set the minimum logging level (e.g. `INFO`,\n`DEBUG`, `ERR`, etc). If `mask` is not specified, the default value is `INFO`. For legacy\ncompatibility, a value of `true` sets `mask` to `DEBUG`.\n\nStandard Log Facilities: `LOG_KERN`, `LOG_USER`, `LOG_MAIL`, `LOG_DAEMON`, `LOG_AUTH`, `LOG_SYSLOG`, `LOG_LPR`,\n`LOG_NEWS`, `LOG_UUCP`, `LOG_LOCAL0`, `LOG_LOCAL1`, `LOG_LOCAL2`, `LOG_LOCAL3`, `LOG_LOCAL4`, `LOG_LOCAL5`,\n`LOG_LOCAL6`, `LOG_LOCAL7`\n\nExamples:\n\n    // default minimum log level to INFO\n    process.on('log', log.syslogTransport('LOG_LOCAL1'));\n\n    // set minimum log level to ERR\n    process.on('log', log.syslogTransport('LOG_LOCAL2', 'ERR'));\n\n    // set minimum log level to DEBUG\n    process.on('log', log.syslogTransport('LOG_LOCAL3', 'DEBUG'));\n    process.on('log', log.syslogTransport('LOG_LOCAL4', true)); // support legacy 'debug' parameter\n\n#### Configuring syslog on Mac OS X\n\nEdit `/etc/syslog.conf`:\n\n    sudo -e /etc/syslog.conf\n\nAdd the following line to `/etc/syslog.conf`:\n\n    local5.*                        /var/log/local5.log\n\nSend `syslogd` the HUP signal:\n\n    sudo killall -HUP syslogd\n\nTest with `logger`:\n\n    logger -p local5.info \"Test\"\n    tail /var/log/local5.log\n\n#### Configuring rsyslog on Debain\n\nEdit `/etc/rsyslog.conf`:\n\n    sudo -e /etc/rsyslog.conf\n\nAdd the following line to `/etc/rsyslog.conf`:\n\n    local5.*                        /var/log/local5.log\n\nRestart `rsyslog`:\n\n    sudo service rsyslog restart\n\nTest with `logger`:\n\n    logger -p local5.info \"Test\"\n    tail /var/log/local5.log\n\n\n## Developing a custom Transport\n\nImplementing a custom transport involves writing an event listener that receives log events.\nAt present, the log events are objects that have `level` and `message` properties.\n\n    function smsTransport(evt) {\n        // evt = { level: 'EMERG', message: '/dev/lp0 on fire!' }\n\n        switch (evt.level) { // only act on important log messages\n            case 'EMERG':\n            case 'ALERT':\n            case 'CRIT':\n                twilloClient.messages.create({\n                    from: ssiSmsNumber,\n                    to: tcSmsNumber,\n                    body: '[' + evt.level + ']' + evt.message\n                });\n                break;\n        }\n    }\n\n    process.on('log', smsTransport);\n\n    if (printerOnFire) {\n        log('EMERG', '/dev/lp0 on fire!');\n    }\n\n## Censorship\n\nAny number of fields may be censored. This is useful when logging request objects to avoid accidentally logging\na credit card number, password, or other sensitive information.\n\n### API\n\n#### log.defaults(...)\n\nReturns a new curried `log()` function with baked in parameters that are included in all log messages.\n\nExample:\n\n    var mylog = log.defaults({ request_id: '7423927D-6F4E-43FE-846E-C474EA3488A3' }, 'foobar');\n\n    mylog('INFO', 'I love golf!');\n\n    // emits --> { level: 'INFO', message: 'I love golf! request_id=7423927D-6F4E-43FE-846E-C474EA3488A3 foobar' }\n\n\n#### log.censor(arr)\n\nSets the list of fields to censor from all log messages. The parameter `arr` is an array which may contain any combination of strings and regular expression objects. The strings and regular expressions are used to match against the log message. To turn off censorship, call this function with an empty array `[]`.\n\nExample:\n\n    // set the list\n    log.censor([ 'card_number', /pass(word)?/ ]);\n\n    log('INFO', 'first_name=John last_name=Doe card_number=1234123412341234 password=pizza');\n    log('INFO', 'first_name=%s last_name=%s card_number=%s password=%s', first_name_var, last_name_var, card_number_var, password_var);\n    log('INFO', { first_name: 'John', last_name: 'Doe', card_number: '1234123412341234', password: 'pizza' });\n\n    // each one above emits the same thing -->\n    // { level: 'INFO', message: 'first_name=John last_name=Doe card_number=[redacted] password=[redacted]' }\n\n#### log.censor()\n\nReturns a list of fields that are presently being censored from all log messages.\n\nExample:\n\n    // get the list of censored fields\n    console.log(log.censor());\n    // prints --> [ 'card_number', /pass(word)?/ ]\n\n## Testing\n\nThere is an automated test suite:\n\n    npm test\n\nAs well as several manual tests:\n\n    cd test\n    node manual-colors-test.js\n    node manual-colors-test.js --no-color\n    node manual-test.js && tail /var/log/local5.log\n\n## License\n\nSee [LICENSE.md](https://github.com/ssimicro/ssi-logger/blob/master/LICENCE.md).\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/ssimicro/ssi-logger.git"
  },
  "scripts": {
    "pretest": "jshint *.js",
    "test": "mocha -R spec test/*.test.js"
  },
  "version": "2.5.7"
}
